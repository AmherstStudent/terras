{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/layout';\nimport Navbar from \"../../components/base/Navbar\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from 'graphql-tag';\nimport { NewBlock } from '../../components/article/RenderBlocks';\n\nconst Page = ({\n  slug\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(PageDocument, {\n    variables: {\n      slug\n    }\n  });\n  if (loading) return __jsx(\"p\", null, \"Loading Post...\");\n  if (error) return __jsx(\"p\", null, \"Something wrong happened!\");\n  const elements = data.pageBy.blocks.map(block => __jsx(NewBlock, block));\n  return __jsx(React.Fragment, null, __jsx(Navbar, null), __jsx(Layout, null, elements));\n};\n\nPage.getInitialProps = async ({\n  query\n}) => {\n  return {\n    slug: query.slug\n  };\n};\n\nconst PageDocument = gql`\nquery Page($slug: String) {\n  pageBy(uri: $slug){\n    __typename\n    title\n    id\n    date\n    desiredSlug\n    excerpt\n    featuredImage {\n      sourceUrl\n      altText\n    }\n    blocks {\n      __typename\n      ... on CoreHeadingBlock {\n        __typename\n        attributes {\n          __typename\n          ... on CoreHeadingBlockAttributes {\n            __typename\n            content\n            level\n          }\n        }\n      }\n      ... on CoreImageBlock {\n        attributes {\n          __typename\n          ... on CoreImageBlockAttributes {\n            __typename\n            url\n            caption\n          }\n        }\n      }\n      ... on CoreQuoteBlock {\n        __typename\n        attributes {\n          ... on CoreQuoteBlockAttributes {\n            __typename\n            quote: value\n            source: citation\n          }\n        }\n      }\n      ... on CoreListBlock {\n        __typename\n        attributes {\n          values\n        }\n      }\n      ... on CoreParagraphBlock {\n        __typename\n        name\n        attributes {\n          ... on CoreParagraphBlockAttributesV3 {\n            __typename\n            content\n            dropCap\n            align\n          }\n        }\n      }\n      ... on CoreGalleryBlock {\n        __typename\n        attributes {\n          ... on CoreGalleryBlockAttributes {\n            __typename\n            ids\n            images\n            linkTo\n          }\n        }\n      }\n    }\n  }\n}\n\n\n`;\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}